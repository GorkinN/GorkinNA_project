{"version":3,"file":"static/js/288.e37d0e64.chunk.js","mappings":"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","sources":["component/Text/Headings/Heading.js","component/ModalWrapper/ModalWrapper.js","component/ContentCard/ContentCardShoppingCart.js","component/common/CommonFunctions.js","component/ShoppingCart/ShoppingCart.js"],"sourcesContent":["import React, {Fragment} from 'react';\r\nimport \"./Heading.css\";\r\n//there are styles for h1-h3 headings. \r\nconst Heading = ({headingTagUPPERCASE, children}) => {\r\n    let content = {};\r\n    let tagName = headingTagUPPERCASE.toUpperCase();\r\n    switch (tagName) {\r\n        case \"H1\" :\r\n            content = <h1 className='caption_h1'>{children}</h1>;\r\n            break;\r\n        case \"H2\" :\r\n            content = <h2 className='caption_h2'>{children}</h2>;\r\n            break;\r\n        case \"H3\" :\r\n            content = <h3 className='caption_h3'>{children}</h3>;\r\n            break;\r\n        case \"H4\" :\r\n            content = <h4 className='caption_h3'>{children}</h4>;\r\n            break;\r\n        case \"H5\" :\r\n            content = <h5 className='caption_h3'>{children}</h5>;\r\n            break;\r\n        case \"H6\" :\r\n            content = <h6 className='caption_h3'>{children}</h6>;\r\n            break;\r\n    }\r\n    return (\r\n        <Fragment>\r\n            {content}\r\n        </Fragment>        \r\n    );\r\n}\r\n\r\nexport default Heading;\r\n","import React, {useState} from 'react';\r\nimport styled from \"styled-components\";\r\nimport Heading from \"../Text/Headings/Heading\";\r\nimport closeIcon from \"./closeIcon.png\";\r\n\r\nconst ModalBackground = styled.div`\r\nposition:fixed;\r\ntop:50%;\r\nleft:50%;\r\ntransform:translate(-50%, -50%);\r\nz-index:99;\r\nwidth:100%;\r\nheight:100%;\r\nbackground-color:rgba(80, 80, 80, 0.5);\r\n`;\r\nconst ModalSection = styled.section`\r\nposition:fixed;\r\ntop:${props => props.top? props.top : 50}%;\r\nleft:${props => props.left? props.left : 50}%;\r\ntransform:translate(-50%, 0);\r\nz-index:100;\r\ndisplay:flex;\r\nflex-direction:column;\r\npadding:20px;\r\nbackground:white;\r\nborder: 1px solid #D1D1D1;\r\nborder-radius:12px;\r\nmin-width:600px;\r\n@media (max-width:${props =>props.theme.phone}) {\r\n    min-width:0;\r\n    width:380px;\r\n}\r\n@media (max-width:${props =>props.theme.smallPhone}) {\r\n    min-width:0;\r\n    width:280px;\r\n}\r\nmax-height:${props => props.top? (90 - props.top) : 50}%;\r\noverflow-y: scroll;\r\noverflow:auto;\r\nscrollbar-width: thin;\r\nscrollbar-color: ${props=> props.theme.secondaryColor} #D1D1D1;\r\n::-webkit-scrollbar {\r\n    background: #D1D1D1;\r\n    width:10px;\r\n    border-radius:12px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n    background-color: ${props=> props.theme.secondaryColor}; \r\n    border-radius: 20px; \r\n    border: 2px solid #D1D1D1; \r\n}\r\n\r\n`;\r\nconst HeaderBox = styled.header`\r\ndisplay:flex;\r\njustify-content:space-between;\r\n`;\r\nconst CloseButton = styled.button`\r\nposition:relative;\r\nfont-family: 'Open Sans';\r\nfont-style: normal;\r\nfont-weight: 400;\r\nfont-size: 12px;\r\nline-height: 16px;\r\ncolor: #D1D1D1;\r\nbackground:none;\r\nborder:none;\r\npadding-right:24px;\r\nborder-radius:8px;\r\ntransition: 0.1s ease-in;\r\n:after {\r\n    position:absolute;\r\n    content:\"\";\r\n    top:10%;\r\n    right:0px;\r\n    width:24px;\r\n    height:24px;\r\n    background-image:url('${closeIcon}');\r\n}\r\n:hover {\r\n    color:black;\r\n    box-shadow:0 0 8px 0 #D1D1D1;\r\n    font-weight: 600;\r\n}\r\n:active {\r\n    background-color:#D1D1D1;\r\n}\r\n`;\r\n\r\nexport const ModalWrapper = ({children, title, customOnCloseModal, top, left}) => {\r\n    let [isVisible, setVisibility] = useState(true);\r\n    function hideModal (e) {\r\n        if (e.target.dataset.isvisible===\"closeModal\") {\r\n            document.body.style.overflow='scroll';\r\n            setVisibility(false);\r\n        // eslint-disable-next-line\r\n            if (customOnCloseModal != undefined) {customOnCloseModal()}\r\n        }\r\n    }\r\n\r\n    return (\r\n        isVisible? (\r\n        <ModalBackground data-isvisible=\"closeModal\" onClick={(e)=>hideModal(e)}>\r\n            <ModalSection top={top} left={left}>\r\n                <HeaderBox>\r\n                    <Heading headingTagUPPERCASE={\"H2\"}>{title}</Heading>\r\n                    <CloseButton name=\"closeModalButton\" data-isvisible=\"closeModal\">Close</CloseButton>\r\n                </HeaderBox>\r\n                {children}\r\n            </ModalSection>\r\n        </ModalBackground>\r\n        ) : null\r\n        \r\n    );\r\n}\r\n\r\n","import React, {useState, useContext} from 'react';\r\nimport styled from \"styled-components\";\r\nimport prodPicDefault from './image/vegs.jpg';\r\nimport trashcan from \"../common/trash-can.png\";\r\nimport {CardPictureContainer, CardPicture, CardSale, CardTitle, CardDescription, CardPrice, CardPriceOff} from \"./ContentCardCommonJSX\";\r\nimport {ShoppingCartProductsContext} from \"../Context/ShoppingCartContext\";\r\n\r\nlet ShoppingCartCard = styled.li`\r\nposition: relative;\r\ndisplay:flex;\r\nalign-items:center;\r\nbox-sizing: border-box;\r\nmargin-bottom:32px;\r\npadding-right:32px;\r\nborder: 1px solid #D1D1D1;\r\nborder-radius: 12px;\r\n@media (max-width:${props=> props.theme.tablet}) {\r\n    margin-bottom:16px;\r\n}\r\n@media (max-width:${props=> props.theme.smallPhone}) {\r\n    flex-direction:column;\r\n    margin-bottom:16px;\r\n    padding-right:0px;\r\n    padding-bottom:10px;\r\n}\r\n:nth-last-child(1) {\r\n    margin-bottom:0;\r\n}\r\n`;\r\nconst Container = styled.div`\r\ndisplay:flex;\r\nalign-self:flex-start;\r\nflex-direction:column;\r\npadding:10px;\r\n@media (max-width:${props=> props.theme.smallPhone}) {\r\n   \r\n}\r\n`;\r\nconst CardPictureContainerWide=styled(CardPictureContainer)`\r\nmax-width:350px;\r\nheight:280px;\r\nmargin-bottom:0;\r\npadding:0;\r\nbox-shadow: none;\r\n@media (max-width:${props=> props.theme.smallPhone}) {\r\n    height:auto;\r\n    max-width:none;\r\n    margin-bottom:10px;\r\n}\r\n`;\r\nconst CardInfo = styled.div`\r\ndisplay:flex;\r\nflex-direction:column;\r\nmargin-left:32px;\r\n@media (max-width:${props=> props.theme.smallPhone}) {\r\n    flex-direction:row;\r\n    flex-wrap:wrap;\r\n    justify-content:space-between;\r\n    align-items:center;\r\n    margin-left:0;\r\n    margin-bottom:10px;\r\n}\r\n`;\r\nconst CardPriceBox=styled.div`\r\nmargin:5px 0;\r\n@media (max-width:${props=> props.theme.smallPhone}) {\r\n    margin:0;\r\n    margin-left:15px;\r\n}\r\n`;\r\nconst NumberInput = styled.input`\r\nposition:relative;\r\ndisplay:block;\r\nfont-family: 'Open Sans';\r\nfont-style: normal;\r\nfont-weight: 500;\r\nfont-size: 16px;\r\ncolor: black;\r\ntext-indent:21px;\r\npadding:10px 0px;\r\nborder:1px solid #D1D1D1;\r\nborder-radius:12px;\r\nbackground: #f9f9f9;\r\nwidth:110px;\r\n`;\r\nconst NumberInputLabel = styled.label`\r\nfont-family: 'Poppins';\r\nfont-style: normal;\r\nfont-weight: 600;\r\nfont-size: 17px;\r\nline-height: 26px;\r\ncolor: #151515;\r\n@media (max-width:${props => props.theme.laptop}) {\r\n    :nth-last-child(1) {\r\n        margin-top:10px;\r\n    }\r\n}\r\n`;\r\nconst TrashcanButton=styled.button`\r\ndisplay:block;\r\nposition:relative;\r\ntransition:0.1s ease-in-out;\r\nwidth:30px;\r\nheight:30px;\r\nmargin:15px;\r\nmargin-left:0;\r\nborder:none;\r\nborder-radius:12px;\r\nbackground:none;\r\nbackground-image: url(${trashcan});\r\nbackground-size: contain;\r\nbackground-repeat:no-repeat;\r\nbackground-position:50% 50%;\r\n:hover {\r\n    box-shadow: \r\n    0 0 3px 5px pink,\r\n    inset 0 0 5px 1px red;\r\n    ::after {\r\n        content:\"delete\";\r\n        position:absolute;\r\n        top:25%;\r\n        left:115%;\r\n        @media (max-width:${props=> props.theme.smallPhone}) {\r\n            top:110%;\r\n            left:-10%;\r\n        }\r\n        font-family: 'Open Sans';\r\n        font-style: normal;\r\n        font-weight: 500;\r\n        font-size: 16px;\r\n        color:#A9A9A9;\r\n    }\r\n}\r\n`;\r\nconst TotalValue = styled.p`\r\nmargin-top:10px;\r\nfont-family: 'Poppins';\r\nfont-style: normal;\r\nfont-weight: 600;\r\nfont-size: 18px;\r\nline-height: 22px;\r\ncolor: ${props =>props.theme.baseColor};\r\n@media (max-width:${props => props.theme.smallPhone}) {\r\n    width:80%;\r\n}\r\n`;\r\nexport const ContentCardShoppingCart = ({product}) => {\r\n    let {\r\n        salePercent:sale = 50, \r\n        name: title = \"Product Title\",\r\n        description = \"Space for a small product description\",\r\n        priceUSD: price,\r\n        picture,\r\n        } = product;\r\n    let saleText = sale ? `-${(sale)}%` : \"\";\r\n    let prevPrice = sale>0 ? Math.ceil(price/(1 - sale/100)*100)/100 : \"\";\r\n    let priceText = price===0 ? `FREE` : `${price} USD`;\r\n\r\n    let {cartProductsIds, setCartProductsIds} =useContext(ShoppingCartProductsContext);\r\n\r\n    let [quantity, setQuantity] = useState(cartProductsIds.get(product.id));\r\n    function changeQuantity (event){\r\n        if (event.target.value<1) {event.target.value=1}\r\n\r\n        setQuantity(event.target.value);\r\n        setCartProductsIds((prevState)=>{\r\n            prevState.set(+product.id, +event.target.value);\r\n            let newMap = new Map(prevState)\r\n            return new Map(newMap);\r\n        });\r\n\r\n    }\r\n\r\n    return (\r\n        <ShoppingCartCard  id={product.id}>\r\n            <CardPictureContainerWide>\r\n                <CardPicture src={`${picture || prodPicDefault}`} alt=\"product picture\"/>\r\n                <CardSale>\r\n                    {saleText}\r\n                </CardSale>\r\n            </CardPictureContainerWide>\r\n\r\n            <Container>\r\n                <CardInfo>\r\n                    <div>\r\n                        <CardTitle bigLetters>\r\n                            {title}\r\n                        </CardTitle>\r\n\r\n                        <CardDescription>\r\n                            {description}\r\n                        </CardDescription>\r\n                    </div>\r\n\r\n                    <CardPriceBox>\r\n                        <CardPrice>\r\n                            {priceText}\r\n                        </CardPrice>\r\n                        <CardPriceOff>\r\n                            {prevPrice}\r\n                        </CardPriceOff>\r\n                    </CardPriceBox>\r\n                    \r\n                    <NumberInputLabel htmlFor=\"quantityInput\">\r\n                        Set quantity\r\n                        <NumberInput \r\n                            type=\"number\" \r\n                            name=\"quantityInput\" \r\n                            id={product.id*1111} \r\n                            defaultValue={cartProductsIds.get(+product.id)} \r\n                            min={1}\r\n                            onChange={(e)=>(changeQuantity(e))}\r\n                        />\r\n                    </NumberInputLabel>\r\n                    <TotalValue>\r\n                        Total: {Math.ceil(quantity*price*100)/100} USD\r\n                    </TotalValue>\r\n\r\n                    <TrashcanButton \r\n                    name=\"delete-item\" \r\n                    data-productid={+product.id}\r\n                    />\r\n\r\n                </CardInfo>\r\n\r\n            </Container>\r\n            \r\n\r\n        </ShoppingCartCard>\r\n    );\r\n}","//form JSON from Map\r\nexport function mapReplacer (key, value) {\r\n    if (value instanceof Map) {\r\n        return {\r\n            dataType: \"Map\",\r\n            value: Array.from(value.entries())\r\n        };\r\n        } else {\r\n            return value;\r\n        }\r\n}\r\n\r\nexport function getCoords(elem){\r\n    let coords = elem.getBoundingClientRect();\r\n    return {\r\n        top:coords.top + window.pageYOffset,\r\n        left:coords.left + window.pageXOffset,\r\n        right:coords.right + window.pageYOffset,\r\n        bottom:coords.bottom + window.pageYOffset,\r\n    };\r\n}\r\n\r\n","import React, {useContext, useState, useEffect} from 'react';\r\nimport styled from \"styled-components\";\r\nimport { ModalWrapper } from '../ModalWrapper/ModalWrapper';\r\nimport { ShoppingCartContext } from '../Context/ShoppingCartContext';\r\nimport { ContentCardShoppingCart } from '../ContentCard/ContentCardShoppingCart';\r\nimport { ShoppingCartProductsContext } from '../Context/ShoppingCartContext';\r\nimport {GreenButtonStyled} from \"../Button/Button.js\";\r\nimport { mapReplacer } from '../common/CommonFunctions';\r\n\r\nconst ProductsList = styled.ul`\r\nmargin:10px 0;\r\npadding:0;\r\n`;\r\nconst ProductListItem = styled.li`\r\nmargin-bottom:16px;\r\npadding-bottom:16px;\r\n:nth-last-child(1) {\r\n    margin-bottom:16px;\r\n}\r\nborder-bottom:1px solid #F9F9F9;\r\n`;\r\nconst TotalSum = styled.p`\r\nfont-family: 'Poppins';\r\nfont-style: normal;\r\nfont-weight: 600;\r\nfont-size: 18px;\r\nline-height: 18px;\r\nmargin:10px 0;\r\n`;\r\nconst BuyCartButton = styled(GreenButtonStyled)`\r\nalign-self:flex-start;\r\npadding:10px 30px;\r\n`;\r\n\r\n const ShoppingCart = ({productsGeneralObj}) => {\r\n    let {setShoppingCartVisibility} = useContext(ShoppingCartContext);\r\n    let {cartProductsIds, setCartProductsIds} = useContext(ShoppingCartProductsContext);\r\n    \r\n    function formShoopingCartProductsArr (productsGeneralObj, setOfIds) {\r\n        return productsGeneralObj.filter((item)=>(setOfIds.has(item.id)));\r\n    }\r\n    let productsArray = formShoopingCartProductsArr(productsGeneralObj, cartProductsIds);\r\n\r\n    function showShoppingCartProducts (productsArray) {\r\n        if (productsArray.length===0) {return <ProductListItem>Shopping cart is empty</ProductListItem>}\r\n        return ( productsArray.map(product => (<ContentCardShoppingCart key={product.id} product={product}/>)) );\r\n    }  \r\n\r\n    function removeFromShoppingCart(event) {\r\n        if (event.target.name===\"delete-item\")    {\r\n            let id = event.target.dataset.productid;\r\n            setCartProductsIds((prevState)=>{\r\n                prevState.delete(+id)\r\n                return new Map(prevState)});\r\n        } \r\n    }\r\n\r\n    //TotalSum content START\r\n    const [totalSum, setTotalSum] = useState(countTotalSum(productsGeneralObj, cartProductsIds));\r\n    \r\n    function countTotalSum(productsGeneralObj, cartProductsIds){\r\n        let sum = productsGeneralObj.reduce((acc, item)=>{\r\n            if (cartProductsIds.has(item.id)) {\r\n                return acc + item.priceUSD*cartProductsIds.get(item.id);\r\n            }\r\n            return acc;\r\n        }, 0);\r\n        sum = Math.ceil(sum*100)/100;\r\n        return sum;\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setTotalSum(countTotalSum(productsGeneralObj, cartProductsIds));\r\n    }, [productsGeneralObj, cartProductsIds]);\r\n    //TotalSum content END\r\n\r\n    return (\r\n        <ModalWrapper \r\n        title=\"Shopping cart\" \r\n        customOnCloseModal={()=>(setShoppingCartVisibility((prev)=>(!prev)))}\r\n        top={2}>\r\n                <ProductsList onClick={(event=>(removeFromShoppingCart(event)))}>\r\n                    {showShoppingCartProducts(productsArray)}\r\n                </ProductsList>\r\n\r\n        {cartProductsIds.size === 0? null : \r\n        <>\r\n        <TotalSum>\r\n            Total: {totalSum} USD\r\n        </TotalSum>\r\n\r\n        <BuyCartButton productid={0} onClick={()=>(alert(\"JSON:\", JSON.stringify(cartProductsIds, mapReplacer)))}>\r\n            Buy products\r\n        </BuyCartButton>\r\n        </>}\r\n       \r\n\r\n        </ModalWrapper>\r\n    );\r\n}\r\n\r\nexport default ShoppingCart;"],"names":["headingTagUPPERCASE","children","content","toUpperCase","className","Fragment","ModalBackground","styled","ModalSection","props","top","left","theme","phone","smallPhone","secondaryColor","HeaderBox","CloseButton","closeIcon","ModalWrapper","title","customOnCloseModal","useState","isVisible","setVisibility","onClick","e","target","dataset","isvisible","document","body","style","overflow","undefined","hideModal","name","ShoppingCartCard","tablet","Container","CardPictureContainerWide","CardPictureContainer","CardInfo","CardPriceBox","NumberInput","NumberInputLabel","laptop","TrashcanButton","trashcan","TotalValue","baseColor","ContentCardShoppingCart","product","salePercent","sale","description","price","priceUSD","picture","saleText","prevPrice","Math","ceil","priceText","useContext","ShoppingCartProductsContext","cartProductsIds","setCartProductsIds","get","id","quantity","setQuantity","src","prodPicDefault","alt","bigLetters","htmlFor","type","defaultValue","min","onChange","event","value","prevState","set","newMap","Map","mapReplacer","key","dataType","Array","from","entries","ProductsList","ProductListItem","TotalSum","BuyCartButton","GreenButtonStyled","productsGeneralObj","setShoppingCartVisibility","ShoppingCartContext","productsArray","setOfIds","filter","item","has","formShoopingCartProductsArr","countTotalSum","totalSum","setTotalSum","sum","reduce","acc","useEffect","prev","productid","delete","removeFromShoppingCart","length","map","showShoppingCartProducts","size","alert","JSON","stringify"],"sourceRoot":""}