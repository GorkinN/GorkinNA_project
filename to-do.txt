fix filter state
add debounce/throttling for filters
